{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\82104\\\\Desktop\\\\\\uB2E4\\uC2DC flower\\\\flower\\\\client\\\\src\\\\components\\\\views\\\\UploadProductPage\\\\UploadProductPage.js\";\nimport React, { useState } from 'react';\nimport { Button, Form, Input } from 'antd';\nimport FileUpload from '../../utils/FileUpload.js';\nimport Axios from 'axios';\nimport { DiffOutlined } from \"@ant-design/icons\";\nconst {\n  TextArea\n} = Input;\nconst Continents = [{\n  key: 1,\n  value: \"꽃다발\"\n}, {\n  key: 3,\n  value: \"꽃바구니\"\n}, {\n  key: 4,\n  value: \"DIY\"\n}, {\n  key: 2,\n  value: \"Specail Day\"\n}, {\n  key: 5,\n  value: \"Best\"\n}, {\n  key: 6,\n  value: \"화분\"\n}];\n\nfunction UploadProductPage(props) {\n  const [Title, setTitle] = useState(\"\");\n  const [Description, setDescription] = useState(\"\");\n  const [Price, setPrice] = useState(0);\n  const [Continent, setContinent] = useState(1);\n  const [Images, setImages] = useState([]);\n\n  const titleChangeHandler = event => {\n    setTitle(event.currentTarget.value);\n  };\n\n  const descriptionChangeHandler = event => {\n    setDescription(event.currentTarget.value);\n  };\n\n  const priceChangeHandler = event => {\n    setPrice(event.currentTarget.value);\n  };\n\n  const continentChangeHandler = event => {\n    setContinent(event.currentTarget.value);\n  };\n\n  const updateImages = newImages => {\n    setImages(newImages);\n  };\n\n  const submitHandler = event => {\n    event.preventDefault();\n\n    if (!Title || !Description || !Price || !Continent || !Images.length === 0) {\n      return alert(\"모든 값을 넣어주셔야 합니다.\");\n    } // 서버에 채운 값들을 request로 보낸다.\n\n\n    const body = {\n      // 로그인 된 사람의 ID\n      writer: props.user.userData._id,\n      title: Title,\n      description: Description,\n      price: Price,\n      images: Images,\n      continents: Continent\n    };\n    Axios.post(\"/api/product\", body).then(response => {\n      if (response.data.success) {\n        alert(\"상품 업로드에 성공했습니다.\");\n        props.history.push('/');\n      } else {\n        alert(\"상품 업로드에 실패했습니다.\");\n      }\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      maxWidth: '700px',\n      margin: '2rem auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: 'center',\n      marginBottom: '2rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 17\n    }\n  }, \" \\uAF43 \\uC0C1\\uD488 \\uC5C5\\uB85C\\uB4DC\"), \" \", /*#__PURE__*/React.createElement(DiffOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 36\n    }\n  })), /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FileUpload, {\n    refreshFunction: updateImages,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, \"\\uC774\\uB984\"), /*#__PURE__*/React.createElement(Input, {\n    onChange: titleChangeHandler,\n    value: Title,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, \"\\uC124\\uBA85\"), /*#__PURE__*/React.createElement(TextArea, {\n    onChange: descriptionChangeHandler,\n    value: Description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, \"\\uAC00\\uACA9($)\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"number\",\n    onChange: priceChangeHandler,\n    value: Price,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"select\", {\n    onChange: continentChangeHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, Continents.map(item => /*#__PURE__*/React.createElement(\"option\", {\n    key: item.key,\n    value: Continent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 25\n    }\n  }, \" \", item.value))), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    onClick: submitHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, \"\\uD655\\uC778\")));\n}\n\nexport default UploadProductPage;","map":{"version":3,"sources":["C:/Users/82104/Desktop/다시 flower/flower/client/src/components/views/UploadProductPage/UploadProductPage.js"],"names":["React","useState","Button","Form","Input","FileUpload","Axios","DiffOutlined","TextArea","Continents","key","value","UploadProductPage","props","Title","setTitle","Description","setDescription","Price","setPrice","Continent","setContinent","Images","setImages","titleChangeHandler","event","currentTarget","descriptionChangeHandler","priceChangeHandler","continentChangeHandler","updateImages","newImages","submitHandler","preventDefault","length","alert","body","writer","user","userData","_id","title","description","price","images","continents","post","then","response","data","success","history","push","maxWidth","margin","textAlign","marginBottom","map","item"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\nimport { Button, Form, Input } from 'antd';\nimport FileUpload from '../../utils/FileUpload.js';\nimport Axios from 'axios';\nimport {DiffOutlined } from \"@ant-design/icons\";\n\nconst { TextArea } = Input;\n\nconst Continents = [\n    { key: 1, value: \"꽃다발\" },\n    { key: 3, value: \"꽃바구니\" },\n    { key: 4, value: \"DIY\" },\n    { key: 2, value: \"Specail Day\" },\n    { key: 5, value: \"Best\" },\n    { key: 6, value: \"화분\" }\n]\n\nfunction UploadProductPage(props) {\n    \n    const [Title, setTitle] = useState(\"\")\n    const [Description, setDescription] = useState(\"\")\n    const [Price, setPrice] = useState(0)\n    const [Continent, setContinent] = useState(1)\n    const [Images, setImages] = useState([])\n    \n    const titleChangeHandler = (event) => {\n        setTitle(event.currentTarget.value)\n    }\n\n    const descriptionChangeHandler = (event) => {\n        setDescription(event.currentTarget.value)\n    }\n    \n    const priceChangeHandler = (event) => {\n        setPrice(event.currentTarget.value)\n    }\n\n    const continentChangeHandler = (event) => {\n        setContinent(event.currentTarget.value)\n    }\n\n    const updateImages = (newImages) => {\n        setImages(newImages)\n    }\n\n    const submitHandler = (event) => {\n        event.preventDefault();\n        if (!Title || !Description || !Price || !Continent || !Images.length === 0) {\n            return alert(\"모든 값을 넣어주셔야 합니다.\")\n        }\n        // 서버에 채운 값들을 request로 보낸다.\n\n        const body = {\n            // 로그인 된 사람의 ID\n            writer: props.user.userData._id,\n            title: Title,\n            description: Description,\n            price: Price,\n            images: Images,\n            continents: Continent\n        }\n        \n        Axios.post(\"/api/product\", body)\n        .then(response => {\n            if(response.data.success) {\n                alert(\"상품 업로드에 성공했습니다.\")\n                props.history.push('/')\n            } else {\n                alert(\"상품 업로드에 실패했습니다.\")\n            }\n        })\n    }\n    \n    return (\n        <div style={{ maxWidth: '700px', margin: '2rem auto' }}>\n            <div style={{ textAlign: 'center', marginBottom: '2rem' }}>\n                <h2> 꽃 상품 업로드</h2> <DiffOutlined />\n            </div>\n            <Form >\n                {/* DropZone */}\n                <FileUpload refreshFunction={updateImages} />\n                <br />\n                <br />\n                <label>이름</label>\n                <Input onChange={titleChangeHandler} value={Title} />\n                <br />\n                <br />\n                <label>설명</label>\n                <TextArea onChange={descriptionChangeHandler} value={Description} />\n                <br />\n                <br />\n                <label>가격($)</label>\n                <Input type=\"number\" onChange={priceChangeHandler} value={Price} />\n                <br />\n                <br />\n                <select onChange={continentChangeHandler} >\n                    {Continents.map(item => (\n                        <option key={item.key} value={Continent}> {item.value}</option>\n                    ))}\n                </select>\n                <br />\n                <br />\n                <Button type=\"submit\" onClick={submitHandler}>\n                    확인\n                </Button>\n            </Form>\n        </div>\n    )\n}\n\nexport default UploadProductPage\n"]},"metadata":{},"sourceType":"module"}