{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\82104\\\\Desktop\\\\\\uB2E4\\uC2DC flower\\\\flower\\\\client\\\\src\\\\components\\\\views\\\\New\\\\New.js\";\nimport React, { useEffect, useState } from \"react\";\nimport Axios from \"axios\";\nimport { Col, Card, Row } from \"antd\";\nimport Meta from \"antd/lib/card/Meta\";\nimport ImageSlider from \"../../utils/ImageSlider\";\nimport CheckBox from \"./Sections/CheckBox\";\nimport { continents } from \"./Sections/Datas\";\nimport SearchFeature from \"./Sections/SearchFeature\";\n\nfunction New() {\n  const [Products, setProducts] = useState([]);\n  const [Skip, setSkip] = useState(0);\n  const [Limit, setLimit] = useState(8);\n  const [PostSize, setPostSize] = useState(0);\n  const [Filters, setFilters] = useState({\n    continents: []\n  });\n  const [SearchTerm, setSearchTerm] = useState(\"\");\n  useEffect(() => {\n    let body = {\n      skip: Skip,\n      limit: Limit\n    };\n    getProduct(body);\n  }, []);\n\n  const getProduct = body => {\n    Axios.post(\"/api/product/product\", body).then(res => {\n      if (res.data.success) {\n        if (body.loadMore) {\n          setProducts([...Products, ...res.data.productInfo]);\n        } else {\n          setProducts(res.data.productInfo);\n        }\n\n        setPostSize(res.data.postSize);\n      } else {\n        alert(\"상품을 가져오는데 실패 했습니다.\");\n      }\n    });\n  };\n\n  const loadMoreHandler = () => {\n    let skip = Skip + Limit;\n    let body = {\n      skip: skip,\n      limit: Limit,\n      loadMore: true\n    };\n    getProduct(body);\n    setSkip(skip);\n  };\n\n  const showFilteredResults = filters => {\n    let body = {\n      skip: 0,\n      limit: Limit,\n      filters: filters\n    };\n    getProduct(body);\n    setSkip(0);\n  };\n\n  const handleFilters = (filters, category) => {\n    const newFilters = { ...Filters\n    };\n    newFilters[category] = filters; // console.log(newFilters);\n\n    showFilteredResults(newFilters);\n    setFilters(newFilters);\n  };\n\n  const updateSearchTerm = newSearchTerm => {\n    setSearchTerm(newSearchTerm);\n    let body = {\n      skip: 0,\n      limit: Limit,\n      filters: Filters,\n      searchTerm: newSearchTerm\n    };\n    setSkip(0);\n    setSearchTerm(newSearchTerm);\n    getProduct(body);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"75%\",\n      margin: \"3rem auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, \"Let's Travel Anywhere\")), /*#__PURE__*/React.createElement(Row, {\n    gutter: [16, 16],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    lg: 12,\n    xs: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(CheckBox, {\n    list: continents,\n    handleFilters: filters => handleFilters(filters, \"continents\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    lg: 12,\n    xs: 24,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"flex-end\",\n      margin: \"1rem auto\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(SearchFeature, {\n    refreshFunction: updateSearchTerm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 7\n    }\n  }), PostSize >= Limit && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: loadMoreHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 11\n    }\n  }, \"\\uB354\\uBCF4\\uAE30\")));\n}\n\nexport default New;","map":{"version":3,"sources":["C:/Users/82104/Desktop/다시 flower/flower/client/src/components/views/New/New.js"],"names":["React","useEffect","useState","Axios","Col","Card","Row","Meta","ImageSlider","CheckBox","continents","SearchFeature","New","Products","setProducts","Skip","setSkip","Limit","setLimit","PostSize","setPostSize","Filters","setFilters","SearchTerm","setSearchTerm","body","skip","limit","getProduct","post","then","res","data","success","loadMore","productInfo","postSize","alert","loadMoreHandler","showFilteredResults","filters","handleFilters","category","newFilters","updateSearchTerm","newSearchTerm","searchTerm","width","margin","textAlign","display","justifyContent"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Axios from \"axios\";\nimport {  Col, Card, Row } from \"antd\";\nimport Meta from \"antd/lib/card/Meta\";\nimport ImageSlider from \"../../utils/ImageSlider\";\nimport CheckBox from \"./Sections/CheckBox\";\nimport { continents } from \"./Sections/Datas\";\nimport SearchFeature from \"./Sections/SearchFeature\";\n\nfunction New() {\n  const [Products, setProducts] = useState([]);\n  const [Skip, setSkip] = useState(0);\n  const [Limit, setLimit] = useState(8);\n  const [PostSize, setPostSize] = useState(0);\n  const [Filters, setFilters] = useState({\n    continents: []\n  });\n  const [SearchTerm, setSearchTerm] = useState(\"\");\n\n  useEffect(() => {\n    let body = {\n      skip: Skip,\n      limit: Limit,\n    };\n\n    getProduct(body);\n  }, []);\n\n  const getProduct = (body) => {\n    Axios.post(\"/api/product/product\", body).then((res) => {\n      if (res.data.success) {\n        if (body.loadMore) {\n          setProducts([...Products, ...res.data.productInfo]);\n        } else {\n          setProducts(res.data.productInfo);\n        }\n        setPostSize(res.data.postSize);\n      } else {\n        alert(\"상품을 가져오는데 실패 했습니다.\");\n      }\n    });\n  };\n\n  const loadMoreHandler = () => {\n    let skip = Skip + Limit;\n\n    let body = {\n      skip: skip,\n      limit: Limit,\n      loadMore: true,\n    };\n    getProduct(body);\n    setSkip(skip);\n  };\n\n \n\n  const showFilteredResults = (filters) => {\n    let body = {\n      skip: 0,\n      limit: Limit,\n      filters: filters,\n    };\n\n    getProduct(body);\n    setSkip(0);\n  };\n\n  const handleFilters = (filters, category) => {\n    const newFilters = { ...Filters };\n    newFilters[category] = filters;\n   \n    // console.log(newFilters);\n    showFilteredResults(newFilters);\n    setFilters(newFilters);\n  };\n\n  \n  \n\n  const updateSearchTerm = (newSearchTerm) => {\n    setSearchTerm(newSearchTerm);\n\n    let body = {\n      skip: 0,\n      limit: Limit,\n      filters: Filters,\n      searchTerm: newSearchTerm,\n    };\n    setSkip(0);\n    setSearchTerm(newSearchTerm);\n    getProduct(body);\n  };\n\n  return (\n    <div style={{ width: \"75%\", margin: \"3rem auto\" }}>\n      <div style={{ textAlign: \"center\" }}>\n        <h2>\n          Let's Travel Anywhere \n        </h2>\n      </div>\n\n      {/* Filter */}\n\n      <Row gutter={[16, 16]}>\n        <Col lg={12} xs={24}>\n          {/* CheckBox */}\n          <CheckBox\n            list={continents}\n            handleFilters={(filters) => handleFilters(filters, \"continents\")}\n          />\n        </Col>\n        <Col lg={12} xs={24}>\n          {/* RadioBox */}\n         \n         \n        </Col>\n      </Row>\n\n      {/* Search */}\n      <div\n        style={{\n          display: \"flex\",\n          justifyContent: \"flex-end\",\n          margin: \"1rem auto\",\n        }}\n      >\n        <SearchFeature refreshFunction={updateSearchTerm} />\n      </div>\n\n     \n      <br />\n\n      {PostSize >= Limit && (\n        <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n          <button onClick={loadMoreHandler}>더보기</button>\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default New;\n"]},"metadata":{},"sourceType":"module"}