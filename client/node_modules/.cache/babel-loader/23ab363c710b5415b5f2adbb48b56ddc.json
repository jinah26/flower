{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\82104\\\\Desktop\\\\\\uB2E4\\uC2DC flower\\\\flower\\\\client\\\\src\\\\components\\\\views\\\\New\\\\New.js\";\nimport React, { useEffect, useState } from 'react';\nimport axios from \"axios\";\nimport { Col, Card, Row } from 'antd';\nimport { RocketOutlined } from '@ant-design/icons';\nimport Meta from 'antd/lib/card/Meta';\nimport ImageSlider from '../../utils/ImageSlider';\nimport Basket1 from '../DetailProductpage/Basket1';\n\nfunction LandingPage() {\n  const [Products, setProducts] = useState([]);\n  const [Skip, setSkip] = useState(0);\n  const [Limit] = useState(8);\n  const [PostSize, setPostSize] = useState(0);\n  useEffect(() => {\n    let body = {\n      skip: Skip,\n      limit: Limit\n    };\n    getProducts(body);\n  }, []);\n\n  const getProducts = body => {\n    axios.post('/api/product/products', body).then(response => {\n      if (response.data.success) {\n        if (body.loadMore) {\n          setProducts([...Products, ...response.data.productInfo]);\n        } else {\n          setProducts(response.data.productInfo);\n        }\n\n        setPostSize(response.data.postSize);\n      } else {\n        alert(\"상품들을 가져오는데 실패 했습니다.\");\n      }\n    });\n  };\n\n  const loadMoreHandler = () => {\n    let skip = Skip + Limit;\n    let body = {\n      skip: Skip,\n      limit: Limit,\n      loadMore: true\n    };\n    getProducts(body);\n    setSkip(skip);\n  };\n\n  const renderCards = Products.map((product, index) => {\n    return /*#__PURE__*/React.createElement(Col, {\n      lg: 6,\n      md: 8,\n      xs: 24,\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 16\n      }\n    }, /*#__PURE__*/React.createElement(Card, {\n      cover: /*#__PURE__*/React.createElement(\"a\", {\n        href: `/product/${product._id}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 28\n        }\n      }, /*#__PURE__*/React.createElement(ImageSlider, {\n        images: product.images,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 64\n        }\n      })),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Meta, {\n      title: product.title,\n      description: `$${product.price}`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }\n    })));\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: '75%',\n      margin: '3rem auto'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      textAlign: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, \"Sunny\\uC758 \\uC0C8\\uB85C\\uC6B4 \\uC0C1\\uD488\", /*#__PURE__*/React.createElement(RocketOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 34\n    }\n  }))), /*#__PURE__*/React.createElement(Row, {\n    gutter: [16, 16],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }, renderCards), PostSize >= Limit && /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      justifyContent: 'center'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: loadMoreHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }\n  }, \"\\uB354\\uBCF4\\uAE30\")));\n}\n\nexport default LandingPage;","map":{"version":3,"sources":["C:/Users/82104/Desktop/다시 flower/flower/client/src/components/views/New/New.js"],"names":["React","useEffect","useState","axios","Col","Card","Row","RocketOutlined","Meta","ImageSlider","Basket1","LandingPage","Products","setProducts","Skip","setSkip","Limit","PostSize","setPostSize","body","skip","limit","getProducts","post","then","response","data","success","loadMore","productInfo","postSize","alert","loadMoreHandler","renderCards","map","product","index","_id","images","title","price","width","margin","textAlign","display","justifyContent"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport axios from \"axios\";\nimport { Col, Card, Row } from 'antd';\nimport { RocketOutlined } from '@ant-design/icons';\nimport Meta from 'antd/lib/card/Meta';\nimport ImageSlider from '../../utils/ImageSlider';\n\nimport Basket1 from '../DetailProductpage/Basket1';\n\nfunction LandingPage() {\n\n    const [Products, setProducts] = useState([])\n    const [Skip, setSkip] = useState(0)\n    const [Limit] = useState(8)\n    const [PostSize, setPostSize] = useState(0)\n\n    useEffect(() => {\n\n        let body = {\n            skip: Skip,\n            limit: Limit\n        }\n\n        getProducts(body)\n        \n    }, [])\n\n    const getProducts = (body) => {\n        axios.post('/api/product/products', body)\n        .then(response => {\n            if(response.data.success) {\n                if(body.loadMore) {\n                    setProducts([...Products, ...response.data.productInfo])\n                } else {\n                    setProducts(response.data.productInfo)\n                }\n                setPostSize(response.data.postSize)\n            } else {\n                alert(\"상품들을 가져오는데 실패 했습니다.\")\n            }\n        })\n    }\n\n    const loadMoreHandler = () => {\n        let skip = Skip + Limit\n        let body = {\n            skip: Skip,\n            limit: Limit,\n            loadMore: true\n        }\n        \n        getProducts(body)\n        setSkip(skip)\n\n    }\n\n    const renderCards = Products.map((product, index) => {\n\n        \n        return <Col lg={6} md={8} xs={24} key={index}>\n        \n                <Card\n                    cover={<a href={`/product/${product._id}`}><ImageSlider images={product.images} /></a>}\n                >\n                    <Meta \n                        title={product.title}\n                        description={`$${product.price}`}\n                    />\n                </Card>\n            </Col>\n    })\n\n    \n    \n    \n    return (\n        <div style={{ width: '75%', margin: '3rem auto' }}>\n            <div style={{ textAlign: 'center' }}>\n                <h2>Sunny의 새로운 상품<RocketOutlined /></h2>\n            </div>\n\n            {/* filter */}\n            {/* serch */}\n            {/* cards */}\n\n            <Row gutter={[16, 16]}>\n                {renderCards}\n            </Row>\n            \n            \n            {PostSize >= Limit &&\n                <div style={{ display: 'flex', justifyContent: 'center' }}>\n                    <button onClick={loadMoreHandler}>더보기</button>\n                </div>\n            }\n\n            \n\n        </div>\n    )\n}\n\nexport default LandingPage\n"]},"metadata":{},"sourceType":"module"}